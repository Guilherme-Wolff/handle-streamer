import FormData from"form-data";import fetch from"node-fetch";import path from"path";import*as fs from"fs";export class UploaderService{constructor(){}IMGBB_CLIENT_API_KEY="713bcfdb3686407e86c8061d80f78369";urlUpload=`https://api.imgbb.com/1/upload?key=${this.IMGBB_CLIENT_API_KEY}`;async userImageUploaderBunkr(t){let a={sucess:!1,url:""};try{const r=await fetch(t);if(!r.ok)throw new Error(`Erro ao obter a imagem: ${r.status} - ${r.statusText}`);const e=await r.arrayBuffer(),s=new Uint8Array(e);let o="";for(let t=0;t<s.byteLength;t++)o+=String.fromCharCode(s[t]);const c=btoa(o),n=new FormData;n.append("image",c);this.IMGBB_CLIENT_API_KEY,n.getHeaders();const u=await fetch(this.urlUpload,{method:"POST",body:n}),i=await u.json();if(i.success){const{url:t}=i.data;return a.sucess=!0,a.url=t,a}return a}catch(t){}}async thumbnailUpload(t){let a={sucess:!1,url:""};try{const r=fs.createReadStream(t),e=path.basename(t),s=new FormData;s.append("image",r,{filename:e});const o=await fetch(this.urlUpload,{method:"POST",body:s}),c=await o.json();if(c.success){const{url:t}=c.data;return a.sucess=!0,a.url=t,a}return a}catch(t){}return a}}